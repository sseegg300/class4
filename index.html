<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í˜ë¥´ì†Œë‚˜ ì„ íƒ ê²Œì„</title>
    <style>
        /* ê¸°ë³¸ ë°”ë”” ìŠ¤íƒ€ì¼: ì¤‘ì•™ ì •ë ¬, ë°°ê²½ìƒ‰, í°íŠ¸ ì„¤ì • */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* ë·°í¬íŠ¸ ë†’ì´ ì „ì²´ ì‚¬ìš© */
            background-color: #f0f2f5; /* ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
            color: #333; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        /* ì œëª© ìŠ¤íƒ€ì¼ */
        h1 {
            color: #2c3e50; /* ì§„í•œ íŒŒë€ìƒ‰ */
            margin-bottom: 30px;
            font-size: 2.5em; /* ë°˜ì‘í˜• í°íŠ¸ í¬ê¸° */
            text-align: center;
        }

        /* ë©”ì¸ ì¹´í…Œê³ ë¦¬ ì»¨í…Œì´ë„ˆ (ì´ë¦„, ë‚˜ì´ ë“± ì „ì²´ ì„¹ì…˜ ë¬¶ìŒ) */
        .main-categories-container {
            display: flex; /* Flexboxë¡œ ë³€ê²½ */
            flex-direction: row; /* ê°€ë¡œ ë°°ì¹˜ */
            flex-wrap: wrap; /* í™”ë©´ì´ ì¢ì•„ì§€ë©´ ë‹¤ìŒ ì¤„ë¡œ ë„˜ì–´ê°€ë„ë¡ */
            justify-content: center; /* ê°€ìš´ë° ì •ë ¬ */
            gap: 20px; /* ê° ì¹´í…Œê³ ë¦¬ ì„¹ì…˜ ê°„ ê°„ê²© */
            max-width: 1200px; /* ì „ì²´ ì»¨í…Œì´ë„ˆ ë„ˆë¹„ ì œí•œ */
            width: 100%;
            margin-bottom: 40px;
        }

        /* ê° ì¹´í…Œê³ ë¦¬ ì„¹ì…˜ (ì´ë¦„, ë‚˜ì´, ì§ì—… ë“±) */
        .category-section {
            background-color: #ffffff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: center;
            flex: 1 1 calc(20% - 20px); /* 5ê°œ í•­ëª©ì´ í•œ ì¤„ì— ì˜¤ë„ë¡ (ê°„ê²© ê³ ë ¤) */
            min-width: 180px; /* ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ ë„ˆë¹„ ê³„ì‚° */
        }

        /* ì¹´í…Œê³ ë¦¬ ì œëª© (ì´ë¦„, ë‚˜ì´, ì§ì—… ë“±) */
        .category-title {
            color: #34495e;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: bold;
        }

        /* ê° ì¹´í…Œê³ ë¦¬ ë‚´ ì¹´ë“œ ì»¨í…Œì´ë„ˆ (ì´ì œëŠ” 1ê°œì˜ ì¹´ë“œë§Œ í¬í•¨) */
        .category-card-container {
            display: flex; /* Flexboxë¡œ ë³€ê²½í•˜ì—¬ ì¹´ë“œ ì¤‘ì•™ ì •ë ¬ */
            justify-content: center;
            align-items: center;
            height: 150px; /* ì¹´ë“œ ë†’ì´ì— ë§ì¶° ì»¨í…Œì´ë„ˆ ë†’ì´ ì¡°ì • */
        }

        /* ê°œë³„ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            width: 100%; /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆì— ë§ì¶° ë„ˆë¹„ ì¡°ì ˆ */
            max-width: 200px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ (ì´ì „ 300pxì—ì„œ ì¤„ì„) */
            height: 120px; /* ì¹´ë“œ ë†’ì´ ê³ ì • */
            /* background-colorëŠ” JSì—ì„œ ë™ì ìœ¼ë¡œ ì„¤ì • */
            border-radius: 10px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2em;
            color: white;
            cursor: pointer; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í¬ì¸í„° ë³€ê²½ */
            perspective: 1000px; /* 3D ë³€í™˜ì„ ìœ„í•œ ì›ê·¼ê° */
            transition: transform 0.6s, box-shadow 0.3s; /* ë’¤ì§‘ê¸° ë° ê·¸ë¦¼ì ì• ë‹ˆë©”ì´ì…˜ */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */
            position: relative;
            transform-style: preserve-3d; /* ìì‹ ìš”ì†Œì˜ 3D ë³€í™˜ ìœ ì§€ */
        }

        /* ì¹´ë“œê°€ ë’¤ì§‘í˜”ì„ ë•Œì˜ ìŠ¤íƒ€ì¼ */
        .card.flipped {
            transform: rotateY(180deg); /* Yì¶•ìœ¼ë¡œ 180ë„ íšŒì „ */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* ë’¤ì§‘í˜”ì„ ë•Œ ê·¸ë¦¼ì ê°•ì¡° */
        }

        /* ì¹´ë“œ ë‚´ë¶€ ì»¨í…Œì´ë„ˆ */
        .card-inner {
            width: 100%;
            height: 100%;
            text-align: center;
            position: relative;
            transform-style: preserve-3d;
        }

        /* ì¹´ë“œ ì•ë©´ ìŠ¤íƒ€ì¼ */
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safariì—ì„œ ë’·ë©´ ìˆ¨ê¸°ê¸° */
            backface-visibility: hidden; /* ë’·ë©´ ìˆ¨ê¸°ê¸° */
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            box-sizing: border-box;
            padding: 5px; /* ë‚´ë¶€ ì—¬ë°± */
            word-break: break-word; /* ê¸´ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ */
        }

        /* ì¹´ë“œ ì•ë©´ (ì´ˆê¸° ìƒíƒœ) */
        .card-front {
            /* background-colorëŠ” JSì—ì„œ ë™ì ìœ¼ë¡œ ì„¤ì • */
            color: white;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* ì¹´ë“œ ë’·ë©´ (ë’¤ì§‘í˜”ì„ ë•Œ ë³´ì´ëŠ” ë©´) */
        .card-back {
            background-color: #ecf0f1; /* ì—°í•œ íšŒìƒ‰ */
            color: #2c3e50; /* ì§„í•œ íŒŒë€ìƒ‰ */
            transform: rotateY(180deg); /* ë’·ë©´ì€ 180ë„ íšŒì „ëœ ìƒíƒœë¡œ ì‹œì‘ */
            font-size: 1em; /* ê¸°ë³¸ í°íŠ¸ í¬ê¸° */
        }

        /* ë²„íŠ¼ ê·¸ë£¹ ìŠ¤íƒ€ì¼ */
        .button-group {
            margin-top: 20px;
            display: flex;
            gap: 15px; /* ë²„íŠ¼ ê°„ ê°„ê²© */
        }

        /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        button {
            padding: 12px 25px;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease; /* í˜¸ë²„ ë° í´ë¦­ ì• ë‹ˆë©”ì´ì…˜ */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* ë²„íŠ¼ ê·¸ë¦¼ì */
        }

        /* ë¦¬ì…‹ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #resetButton {
            background-color: #e74c3c; /* ë¹¨ê°„ìƒ‰ */
            color: white;
        }

        /* ë¦¬ì…‹ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
        #resetButton:hover {
            background-color: #c0392b; /* ë” ì§„í•œ ë¹¨ê°„ìƒ‰ */
            transform: translateY(-2px); /* ì‚´ì§ ìœ„ë¡œ ì´ë™ */
        }

        /* ì„ íƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #selectButton {
            background-color: #2ecc71; /* ì´ˆë¡ìƒ‰ */
            color: white;
        }

        /* ì„ íƒ ë²„íŠ¼ í˜¸ë²„ íš¨ê³¼ */
        #selectButton:hover {
            background-color: #27ae60; /* ë” ì§„í•œ ì´ˆë¡ìƒ‰ */
            transform: translateY(-2px); /* ì‚´ì§ ìœ„ë¡œ ì´ë™ */
        }

        /* ì„ íƒëœ í˜ë¥´ì†Œë‚˜ í‘œì‹œ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        #selectedPersonaDisplay {
            margin-top: 30px;
            font-size: 1.6em;
            font-weight: bold;
            color: #2980b9; /* íŒŒë€ìƒ‰ */
            min-height: 40px; /* í…ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œë„ ê³µê°„ ìœ ì§€ */
            text-align: center;
            word-break: keep-all; /* ë‹¨ì–´ê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ */
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */

        /* 1200px ì´í•˜ì¼ ë•Œ (5ì—´ì—ì„œ 3ì—´ë¡œ ë³€ê²½) */
        @media (max-width: 1200px) {
            .category-section {
                flex: 1 1 calc(33.33% - 20px); /* 3ê°œ í•­ëª©ì´ í•œ ì¤„ì— ì˜¤ë„ë¡ */
            }
        }

        /* 768px ì´í•˜ì¼ ë•Œ (3ì—´ì—ì„œ 2ì—´ë¡œ ë³€ê²½) */
        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            .category-title {
                font-size: 1.6em;
            }
            .main-categories-container {
                max-width: 600px; /* ëª¨ë°”ì¼ì—ì„œ ë„ˆë¹„ ì¡°ì • */
            }
            .category-section {
                flex: 1 1 calc(50% - 20px); /* 2ê°œ í•­ëª©ì´ í•œ ì¤„ì— ì˜¤ë„ë¡ */
                min-width: 150px; /* ìµœì†Œ ë„ˆë¹„ ì¡°ì • */
            }
            .card {
                max-width: 250px;
                height: 110px;
                font-size: 1.1em;
            }
            .card-front {
                font-size: 1.1em;
            }
            .card-back {
                font-size: 0.9em;
            }
            button {
                padding: 10px 20px;
                font-size: 1em;
            }
            #selectedPersonaDisplay {
                font-size: 1.4em;
            }
        }

        /* 480px ì´í•˜ì¼ ë•Œ (ëª¨ë°”ì¼ ìµœì í™”, 1ì—´) */
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8em;
            }
            .category-title {
                font-size: 1.4em;
            }
            .main-categories-container {
                max-width: 95%; /* í™”ë©´ì— ê½‰ ì°¨ê²Œ */
                flex-direction: column; /* ì„¸ë¡œ ë°°ì¹˜ë¡œ ë³€ê²½ */
            }
            .category-section {
                flex: 1 1 100%; /* í•œ ì¤„ì— 1ê°œ í•­ëª© */
                min-width: unset; /* ìµœì†Œ ë„ˆë¹„ ì œí•œ í•´ì œ */
            }
            .card {
                width: 90%; /* í™”ë©´ì— ë§ì¶° ë„ˆë¹„ ì¡°ì ˆ */
                max-width: 200px;
                height: 90px;
                font-size: 0.9em;
            }
            .card-front {
                font-size: 0.9em;
            }
            .card-back {
                font-size: 0.8em;
            }
            .button-group {
                flex-direction: column; /* ë²„íŠ¼ ì„¸ë¡œ ì •ë ¬ */
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>ğŸ¤” í˜ë¥´ì†Œë‚˜ ì„ íƒ ê²Œì„ ğŸ’¡</h1>

    <div class="main-categories-container">
        <div class="category-section">
            <h2 class="category-title">ì´ë¦„</h2>
            <div class="category-card-container" id="nameCardContainer"></div>
        </div>

        <div class="category-section">
            <h2 class="category-title">ë‚˜ì´</h2>
            <div class="category-card-container" id="ageCardContainer"></div>
        </div>

        <div class="category-section">
            <h2 class="category-title">ì§ì—…</h2>
            <div class="category-card-container" id="jobCardContainer"></div>
        </div>

        <div class="category-section">
            <h2 class="category-title">ì„±ê²©</h2>
            <div class="category-card-container" id="personalityCardContainer"></div>
        </div>

        <div class="category-section">
            <h2 class="category-title">ì‹ìŠµê´€</h2>
            <div class="category-card-container" id="eatingHabitsCardContainer"></div>
        </div>
    </div>

    <div class="button-group">
        <button id="selectButton">í˜ë¥´ì†Œë‚˜ ëœë¤ ì„ íƒ</button>
        <button id="resetButton">ëª¨ë“  ì¹´ë“œ ë’¤ì§‘ê¸°</button>
    </div>

    <div id="selectedPersonaDisplay">
        ì„ íƒëœ í˜ë¥´ì†Œë‚˜:
    </div>

    <script>
        // ê° ì¹´í…Œê³ ë¦¬ë³„ ë°ì´í„° ëª©ë¡ ì •ì˜ (ê°ê° 20ê°œì”©)
        const data = {
            names: [
                "ì•„ì´ìœ ", "ë°•ë³´ê²€", "ë¸”ë™í•‘í¬ ì œë‹ˆ", "BTS ì •êµ­", "ê¹€í˜œìˆ˜",
                "ìœ ì¬ì„", "ìˆ˜ì§€", "ì†¡ê°•í˜¸", "ì•„ì´ë¦°", "ì°¨ì€ìš°",
                "ì´íš¨ë¦¬", "ê°•ë™ì›", "ê¹€ê³ ì€", "ë°•ì„œì¤€", "íƒœì—°",
                "ì¡°ì¸ì„±", "í•œì†Œí¬", "ì´ê´‘ìˆ˜", "ê¹€ì—°ì•„", "ë°•ë‚˜ë˜"
            ],
            ages: [
                "10ëŒ€ë¶€ë¶„", "20ëŒ€ ì´ˆë°˜", "20ëŒ€ ì¤‘ë°˜", "20ëŒ€ í›„ë°˜", "30ëŒ€ ì´ˆë°˜",
                "30ëŒ€ ì¤‘ë°˜", "30ëŒ€ í›„ë°˜", "40ëŒ€ ì´ˆë°˜", "40ëŒ€ ì¤‘ë°˜", "40ëŒ€ í›„ë°˜",
                "50ëŒ€ ì´ˆë°˜", "50ëŒ€ ì¤‘ë°˜", "50ëŒ€ í›„ë°˜", "60ëŒ€ ì´ˆë°˜", "60ëŒ€ ì¤‘ë°˜",
                "70ëŒ€ ì´ìƒ", "ì²­ì†Œë…„", "ì„±ì¸", "ë…¸ë…„"
            ],
            jobs: [
                "ëŒ€í•™ìƒ", "ì‚¬íšŒì´ˆë…„ìƒ", "ì§ì¥ì¸", "ì›Œí‚¹ë§˜", "ìì˜ì—…ì",
                "ê³ ë“±í•™ìƒ", "í”„ë¦¬ëœì„œ", "ì£¼ë¶€", "ì·¨ì—…ì¤€ë¹„ìƒ", "ì—°êµ¬ì›",
                "ì€í‡´ í›„", "ì•Œë°”ìƒ", "IT ê°œë°œì", "ìœ íŠœë²„", "íƒì‹œ ê¸°ì‚¬",
                "í”¼íŠ¸ë‹ˆìŠ¤ ê°•ì‚¬", "ë¯¸ìˆ í•™ì› ê°•ì‚¬", "ì˜ˆìˆ ê³  í•™ìƒ", "íšŒì‚¬ ì„ì›", "í¸ì˜ì  ì•Œë°”ìƒ"
            ],
            personalities: [
                "ì°¨ë¶„í•˜ê³  ì„±ì‹¤í•¨", "ì˜ˆì˜ ë°”ë¥´ê³  ê¸ì •ì ", "ì‹œí¬í•˜ê³  íŠ¸ë Œë””í•¨", "ì—´ì •ì ì´ê³  ììœ ë¶„ë°©í•¨", "ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ë‹¹ë‹¹í•¨",
                "ì¹œê·¼í•˜ê³  ë°°ë ¤ì‹¬ ê¹ŠìŒ", "ì²­ìˆœí•˜ê³  ë°ìŒ", "í‘¸ê·¼í•˜ê³  ì¸ê°„ì ì„", "ì¡°ìš©í•˜ê³  ì„¬ì„¸í•¨", "ì™„ë²½ì£¼ì˜ì",
                "ì†”ì§í•˜ê³  ììœ ë¡œì›€", "ì‹ ë¹„ë¡­ê³  ê°œì„± ê°•í•¨", "í„¸í„¸í•˜ê³  ìœ ì¾Œí•¨", "ì  í‹€í•˜ê³  í™œë™ì ", "ê°ì„±ì ì´ê³  ì„¬ì„¸í•¨",
                "ì‹œì›ì‹œì›í•˜ê³  ì˜ë¦¬ ìˆìŒ", "ë„íšŒì ", "ìœ ë¨¸ëŸ¬ìŠ¤í•˜ê³  ì¥ë‚œê¸° ë§ìŒ", "ê°•ì¸í•¨", "í™œë°œí•˜ê³  ìœ ì¾Œí•¨"
            ],
            eatingHabits: [
                "ê±´ê°•ì‹ ì„ í˜¸, ê°€ë” ë‹¨ê²ƒ ì¦ê¹€", "ê·œì¹™ì ì¸ ì‹ì‚¬, í•œì‹ ì„ í˜¸", "ê±´ê°• ê´€ë¦¬ ì² ì €, ë‹¤ì´ì–´íŠ¸ì‹ ì„ í˜¸", "ë§¤ìš´ ìŒì‹ ì¦ê¹€, ì•¼ì‹ ì„ í˜¸", "ì±„ì‹ ìœ„ì£¼, ì™€ì¸ê³¼ í•¨ê»˜í•˜ëŠ” ì‹ì‚¬ ì¦ê¹€",
                "ê°„í¸í•œ ì‹ì‚¬, ë””ì €íŠ¸ ì„ í˜¸", "í•œì‹ê³¼ ì†Œì£¼, êµ­ë¬¼ ìš”ë¦¬ ì„ í˜¸", "ì†Œì‹, ì»¤í”¼ì™€ ë² ì´ì»¤ë¦¬ ì¦ê¹€", "ìê¸° ê´€ë¦¬ ì² ì €, ìƒëŸ¬ë“œë‚˜ ë‹­ê°€ìŠ´ì‚´ ì„ í˜¸", "ì±„ì‹ì£¼ì˜ì, ìì—°ì‹ ì„ í˜¸",
                "ë¯¸ì‹ê°€, ì™€ì¸ê³¼ ê³ ê¸‰ ìš”ë¦¬ ì¦ê¹€", "ë¶„ì‹ë¥˜ ì„ í˜¸, ë§¤ìš´ ìŒì‹ ì¦ê¹€", "ìš´ë™ í›„ ë‹¨ë°±ì§ˆ ìœ„ì£¼ ì‹ì‚¬, ê±´ê°• ë³´ì¡°ì‹í’ˆ ì±™ê¹€", "ì†Œì‹, ë‹¨ê²ƒê³¼ ì»¤í”¼ ì¦ê¹€", "ìˆ ê³¼ ì•ˆì£¼ ì¦ê¹€, êµ­ë¬¼ ìš”ë¦¬ ì„ í˜¸",
                "ë‹¤ì´ì–´íŠ¸ì‹ ì„ í˜¸, ê°€ë” í­ì‹", "ì•¼ì‹ê³¼ ê°„ì‹ ì¦ê¹€", "ê·œì¹™ì ì¸ ì‹ì‚¬, ê±´ê°•ì‹ ìœ„ì£¼", "ìˆ ê³¼ ì•ˆì£¼, ë§¤ìš´ ìŒì‹ ì¦ê¹€", "ê°„í—ì  ë‹¨ì‹, ì»¤í”¼ì™€ ê²¬ê³¼ë¥˜ ì„ í˜¸"
            ]
        };

        // ê° ì¹´í…Œê³ ë¦¬ë³„ ì¹´ë“œ ìƒ‰ìƒ (ì¢€ ë” ì§„í•œ íŒŒìŠ¤í…”í†¤)
        const cardColors = {
            names: '#82C4C4',   // ë¯¼íŠ¸ (ë” ì§„í•˜ê²Œ)
            ages: '#FFC870',    // ì‚´êµ¬ (ë” ì§„í•˜ê²Œ)
            jobs: '#A0D8A2',    // ì—°ë‘ (ë” ì§„í•˜ê²Œ)
            personalities: '#B88ED1', // ì—°ë³´ë¼ (ë” ì§„í•˜ê²Œ)
            eatingHabits: '#FF9F81'  // ì—°í•œ ì˜¤ë Œì§€ (ë” ì§„í•˜ê²Œ)
        };

        // HTML ìš”ì†Œ ì°¸ì¡°
        const containerIds = {
            names: 'nameCardContainer',
            ages: 'ageCardContainer',
            jobs: 'jobCardContainer',
            personalities: 'personalityCardContainer',
            eatingHabits: 'eatingHabitsCardContainer'
        };

        const selectButton = document.getElementById('selectButton');
        const resetButton = document.getElementById('resetButton');
        const selectedPersonaDisplay = document.getElementById('selectedPersonaDisplay');

        // ê° ì¹´í…Œê³ ë¦¬ë³„ ì„ íƒëœ í•­ëª©ì„ ì €ì¥í•˜ëŠ” ê°ì²´
        let selectedAttributes = {
            name: null,
            age: null,
            job: null,
            personality: null,
            eatingHabits: null
        };

        // ê° ì¹´í…Œê³ ë¦¬ë³„ í˜„ì¬ ë’¤ì§‘íŒ ì¹´ë“œ ìš”ì†Œë¥¼ ì €ì¥í•˜ëŠ” ê°ì²´
        let flippedCardElements = {
            name: null,
            age: null,
            job: null,
            personality: null,
            eatingHabits: null
        };

        /**
         * íŠ¹ì • ì¹´í…Œê³ ë¦¬ì˜ ë‹¨ì¼ ì¹´ë“œë¥¼ ìƒì„±í•˜ê³  í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
         * @param {string} containerId - ì¹´ë“œë¥¼ ì¶”ê°€í•  HTML ì»¨í…Œì´ë„ˆì˜ ID
         * @param {string} categoryKey - selectedAttributes ë° flippedCardElements ê°ì²´ì—ì„œ ì‚¬ìš©í•  ì¹´í…Œê³ ë¦¬ í‚¤ (ì˜ˆ: 'name', 'age')
         */
        function createCategoryCard(containerId, categoryKey) {
            const container = document.getElementById(containerId);
            container.innerHTML = ''; // ê¸°ì¡´ ì¹´ë“œ ëª¨ë‘ ì œê±° (ë‹¨ì¼ ì¹´ë“œë§Œ ìœ ì§€)

            const card = document.createElement('div');
            card.classList.add('card');
            card.dataset.category = categoryKey; // ì¹´í…Œê³ ë¦¬ í‚¤ ì €ì¥

            // ì¹´ë“œ ì•ë©´ ìƒ‰ìƒ ì„¤ì •
            card.style.backgroundColor = cardColors[categoryKey];

            const cardInner = document.createElement('div');
            cardInner.classList.add('card-inner');

            const cardFront = document.createElement('div');
            cardFront.classList.add('card-front');
            cardFront.textContent = 'í´ë¦­í•˜ì—¬ ë’¤ì§‘ê¸°'; // ì¹´ë“œ ì•ë©´ í…ìŠ¤íŠ¸
            cardFront.style.backgroundColor = cardColors[categoryKey]; // ì•ë©´ ìƒ‰ìƒë„ ë™ì¼í•˜ê²Œ ì„¤ì •

            const cardBack = document.createElement('div');
            cardBack.classList.add('card-back');
            cardBack.textContent = ''; // ì´ˆê¸°ì—ëŠ” ë’·ë©´ ë¹„ì›Œë‘ 

            cardInner.appendChild(cardFront);
            cardInner.appendChild(cardBack);
            card.appendChild(cardInner);

            // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            card.addEventListener('click', () => {
                handleCardClick(card, categoryKey);
            });
            container.appendChild(card);
        }

        /**
         * ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜
         * ì¹´ë“œë¥¼ ë’¤ì§‘ê³  í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ëœë¤ í•­ëª©ì„ í‘œì‹œí•©ë‹ˆë‹¤.
         * @param {HTMLElement} clickedCard - í´ë¦­ëœ ì¹´ë“œ DOM ìš”ì†Œ
         * @param {string} categoryKey - í´ë¦­ëœ ì¹´ë“œì˜ ì¹´í…Œê³ ë¦¬ í‚¤
         */
        function handleCardClick(clickedCard, categoryKey) {
            const items = data[categoryKey]; // í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ëª¨ë“  í•­ëª© ê°€ì ¸ì˜¤ê¸°
            const cardBackElement = clickedCard.querySelector('.card-back');

            // ì¹´ë“œê°€ ë’¤ì§‘í˜€ ìˆì§€ ì•Šë‹¤ë©´ ë’¤ì§‘ê³  ëœë¤ í•­ëª© í‘œì‹œ
            if (!clickedCard.classList.contains('flipped')) {
                clickedCard.classList.add('flipped');
                const randomIndex = Math.floor(Math.random() * items.length);
                const randomItem = items[randomIndex];
                cardBackElement.textContent = randomItem; // ë’·ë©´ì— ëœë¤ í•­ëª© í‘œì‹œ

                selectedAttributes[categoryKey] = randomItem; // ì„ íƒëœ ì†ì„± ì—…ë°ì´íŠ¸
                flippedCardElements[categoryKey] = clickedCard; // ë’¤ì§‘íŒ ì¹´ë“œ ìš”ì†Œ ì €ì¥
            } else {
                // ì¹´ë“œê°€ ì´ë¯¸ ë’¤ì§‘í˜€ ìˆë‹¤ë©´ ë‹¤ì‹œ ì•ë©´ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
                clickedCard.classList.remove('flipped');
                cardBackElement.textContent = ''; // ë’·ë©´ ë‚´ìš© ì§€ìš°ê¸°

                selectedAttributes[categoryKey] = null; // ì„ íƒëœ ì†ì„± ì´ˆê¸°í™”
                flippedCardElements[categoryKey] = null; // ë’¤ì§‘íŒ ì¹´ë“œ ìš”ì†Œ ì´ˆê¸°í™”
            }
            updateSelectedPersonaDisplay(); // ì„ íƒëœ í˜ë¥´ì†Œë‚˜ ì •ë³´ ì—…ë°ì´íŠ¸
        }

        /**
         * ì„ íƒëœ í˜ë¥´ì†Œë‚˜ ì •ë³´ë¥¼ í™”ë©´ì— ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
         */
        function updateSelectedPersonaDisplay() {
            const { name, age, job, personality, eatingHabits } = selectedAttributes;
            let displayHtml = 'ì„ íƒëœ í˜ë¥´ì†Œë‚˜: ';

            const parts = [];
            if (name) parts.push(`ì´ë¦„: <b>${name}</b>`);
            if (age) parts.push(`ë‚˜ì´: <b>${age}</b>`);
            if (job) parts.push(`ì§ì—…: <b>${job}</b>`);
            if (personality) parts.push(`ì„±ê²©: <b>${personality}</b>`);
            if (eatingHabits) parts.push(`ì‹ìŠµê´€: <b>${eatingHabits}</b>`);

            if (parts.length > 0) {
                displayHtml += parts.join(' | ');
            } else {
                displayHtml += 'ì—†ìŒ';
            }
            selectedPersonaDisplay.innerHTML = displayHtml;
        }

        // 'í˜ë¥´ì†Œë‚˜ ëœë¤ ì„ íƒ' ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        selectButton.addEventListener('click', () => {
            // ëª¨ë“  ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ ëœë¤ ì„ íƒ ë° ë’¤ì§‘ê¸° ì‹¤í–‰
            for (const categoryKey in data) {
                const container = document.getElementById(containerIds[categoryKey]);
                const card = container.querySelector('.card'); // ê° ì¹´í…Œê³ ë¦¬ì—ëŠ” ë‹¨ì¼ ì¹´ë“œë§Œ ìˆìŒ

                if (card) {
                    // ì¹´ë“œê°€ ì´ë¯¸ ë’¤ì§‘í˜€ ìˆë‹¤ë©´ ì¼ë‹¨ ë˜ëŒë¦° í›„ ë‹¤ì‹œ ë’¤ì§‘ì–´ ìƒˆë¡œìš´ ëœë¤ ê°’ ì–»ê¸°
                    if (card.classList.contains('flipped')) {
                        card.classList.remove('flipped');
                        card.querySelector('.card-back').textContent = '';
                        selectedAttributes[categoryKey] = null;
                        flippedCardElements[categoryKey] = null;
                    }
                    // ìƒˆë¡œìš´ ëœë¤ ê°’ìœ¼ë¡œ ë’¤ì§‘ê¸°
                    handleCardClick(card, categoryKey);
                }
            }
            updateSelectedPersonaDisplay(); // ìµœì¢… ì„ íƒëœ í˜ë¥´ì†Œë‚˜ ì •ë³´ ì—…ë°ì´íŠ¸
        });

        // 'ëª¨ë“  ì¹´ë“œ ë’¤ì§‘ê¸°' (ë¦¬ì…‹) ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        resetButton.addEventListener('click', () => {
            // ëª¨ë“  ì¹´í…Œê³ ë¦¬ì˜ ì¹´ë“œë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ë˜ëŒë¦¼
            for (const categoryKey in data) {
                const container = document.getElementById(containerIds[categoryKey]);
                const card = container.querySelector('.card');
                if (card && card.classList.contains('flipped')) {
                    card.classList.remove('flipped');
                    card.querySelector('.card-back').textContent = '';
                }
                selectedAttributes[categoryKey] = null;
                flippedCardElements[categoryKey] = null;
            }
            updateSelectedPersonaDisplay(); // í™”ë©´ ì—…ë°ì´íŠ¸
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ëª¨ë“  ì¹´í…Œê³ ë¦¬ ì¹´ë“œ ìƒì„± í•¨ìˆ˜ í˜¸ì¶œí•˜ì—¬ ê²Œì„ ì‹œì‘
        window.onload = () => {
            for (const categoryKey in data) {
                createCategoryCard(containerIds[categoryKey], categoryKey);
            }
            updateSelectedPersonaDisplay(); // ì´ˆê¸° í™”ë©´ ì—…ë°ì´íŠ¸
        };
    </script>
</body>
</html>
